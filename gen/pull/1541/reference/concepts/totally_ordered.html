<!doctype html>
<html class="cpprefjp" lang="ja" itemscope="" itemtype="http://schema.org/WebPage">
    <head>
        
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NXNBNVBTJS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NXNBNVBTJS');
</script>


        <meta charset="UTF-8">

        <title>totally_ordered - cpprefjp C++日本語リファレンス</title>

        <meta name="viewport" content="width=device-width,initial-scale=1">
        <meta name="keywords" content="
  C++,標準ライブラリ,リファレンス,ドキュメント,STL,std,concepts,std,concept,cpp20
">
        <meta name="title" content="totally_ordered - cpprefjp C++日本語リファレンス" />
        <meta itemprop="name" content="totally_ordered - cpprefjp C++日本語リファレンス" />
        <meta property="og:title" content="totally_ordered - cpprefjp C++日本語リファレンス" />
        <meta property="og:url" content="https://cpprefjp.github.io/reference/concepts/totally_ordered.html" />
        <meta property="og:site_name" content="cpprefjp - C++日本語リファレンス" />
        <meta property="og:type" content="article" />
        <meta property="og:description" content="`totally_ordered`及び`totally_ordered_with`は、指定された型`T`もしくは`T, U`の間で`&lt; &lt;= &gt; &gt;=`の演算子による比較が可能であり、その順序付けが全順序の要件を満たしている事を表すコンセプトである。" />
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:title" content="totally_ordered - cpprefjp C++日本語リファレンス" />
        <meta name="twitter:url" content="https://cpprefjp.github.io/reference/concepts/totally_ordered.html" />
        <meta name="twitter:description" content="`totally_ordered`及び`totally_ordered_with`は、指定された型`T`もしくは`T, U`の間で`&lt; &lt;= &gt; &gt;=`の演算子による比較が可能であり、その順序付けが全順序の要件を満たしている事を表すコンセプトである。" />

        
  <link rel="alternate" type="application/atom+xml" title="Atom" href="https://cpprefjp.github.io/rss.xml" />


<link rel="apple-touch-icon" sizes="180x180" href="../../static/favicons/apple-touch-icon.png?cachebust=1badf8656537fb83110091804da2a289044600de">
<link rel="icon" type="image/png" sizes="32x32" href="../../static/favicons/favicon-32x32.png?cachebust=1badf8656537fb83110091804da2a289044600de">
<link rel="icon" type="image/png" sizes="16x16" href="../../static/favicons/favicon-16x16.png?cachebust=1badf8656537fb83110091804da2a289044600de">
<link rel="manifest" href="../../manifest.json?cachebust=1badf8656537fb83110091804da2a289044600de">
<meta name="theme-color" content="#f5f8fc">

<link rel="stylesheet" href="../../static/pygments/default.css?cachebust=1badf8656537fb83110091804da2a289044600de">
<!-- <link rel="stylesheet" href="../../static/css/root.css"> -->

        
  


<link href="../../static/kunai/css/kunai-stage-0.css?cachebust=1badf8656537fb83110091804da2a289044600de" rel="stylesheet">
<link href="../../static/kunai/css/kunai-stage-1.css?cachebust=1badf8656537fb83110091804da2a289044600de" rel="stylesheet">
<link href="../../static/kunai/css/kunai-stage-2.css?cachebust=1badf8656537fb83110091804da2a289044600de" rel="stylesheet">
<link href="../../static/kunai/css/kunai-stage-3.css?cachebust=1badf8656537fb83110091804da2a289044600de" rel="stylesheet">

<script type="text/javascript" src="../../static/kunai/js/kunai-vendor.js?cachebust=1badf8656537fb83110091804da2a289044600de"></script>
<script type="text/javascript" src="../../static/kunai/js/kunai.js?cachebust=1badf8656537fb83110091804da2a289044600de"></script>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    var kn = new Kunai;
    kn.cpprefjp();
  });
</script>

    </head>
    <body>
<header data-kunai-mdinfo="{&#34;meta&#34;: {&#34;header&#34;: [&#34;concepts&#34;], &#34;namespace&#34;: [&#34;std&#34;], &#34;id-type&#34;: [&#34;concept&#34;], &#34;cpp&#34;: [&#34;cpp20&#34;]}, &#34;sources&#34;: [], &#34;page_id&#34;: [&#34;reference&#34;, &#34;concepts&#34;, &#34;totally_ordered&#34;]}">
  <nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          <div class="title-wrapper clearfix">
            <div class="title">cpprefjp - C++日本語リファレンス</div>
          </div>
        </a>
      </div>

      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <div class="google-search">
              
  
<script>
  (function() {
    var cx = '013316413321391058734:ji_u66hl7hq';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div class="gcse-search"></div>


            </div>
          </li>
          <li>
  <a href="https://github.com/cpprefjp/site">GitHub Project</a>
</li>
        </ul>
      </div>
    </div>
  </nav>
</header>

        <main id="main" role="main">
            <div class="container-fluid">
<div class="row">
  <div class="col-sm-9 col-sm-push-3" itemscope itemtype="http://schema.org/Article">
    <div class="row">
      <div class="col-sm-12 google-search-result">
        <gcse:searchresults></gcse:searchresults>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 content-header">
        
  <ol class="breadcrumb">
    
      <li  itemscope itemtype="http://www.schema.org/SiteNavigationElement">
        <span>
          
            <a href="../../index.html" itemprop="url">
              
                <i class="fa fa-fw fa-home"></i>
              
            </a>
          
        </span>
      </li>
    
      <li  itemscope itemtype="http://www.schema.org/SiteNavigationElement">
        <span>
          
            <a href="../../reference.html" itemprop="url">
              
                <span itemprop="name">リファレンス</span>
              
            </a>
          
        </span>
      </li>
    
      <li  itemscope itemtype="http://www.schema.org/SiteNavigationElement">
        <span>
          
            <a href="../../reference/concepts.html" itemprop="url">
              
                <span itemprop="name">concepts</span>
              
            </a>
          
        </span>
      </li>
    
      <li class="active" itemscope itemtype="http://www.schema.org/SiteNavigationElement">
        <span>
          
            
              <span itemprop="name">totally_ordered</span>
            
          
        </span>
      </li>
    
  </ol>
  <div class="crsearch"></div>

      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 edit-button">
        
  
    <p class="text-right"><small>
      最終更新日時(UTC):
      <span itemprop="datePublished" content="2025-08-31T12:46:41">
        2025年08月31日 12時46分41秒
      </span>
      <br/>
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Raclamusi</span>
      </span>
      が更新
    </small></p>
  

        <p class="text-right">
          <a class="history" target="_blank" href="https://github.com/cpprefjp/site/commits/master/reference/concepts/totally_ordered.md">
            <span class="fa fa-fw fa-clock-o fa-flip-horizontal"></span>履歴
          </a>
          <a class="edit" target="_blank" href="https://github.com/cpprefjp/site/edit/master/reference/concepts/totally_ordered.md">
            <span class="fa fa-fw fa-pencil"></span>編集
          </a>
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 content-body">
        
  <div class="identifier-type">concept</div><div class="header">&lt;concepts&gt;</div><h1 itemprop="name"><span class="namespace" title="namespace std">std::</span><span class="token">totally_ordered</span><span class="cpp cpp20" title="C++20で追加">(C++20)</span></h1>
<div itemprop="articleBody"><p><div class="codehilite"><pre><span></span><code><span class="k">namespace</span> <span class="n">std</span> <span class="p">{</span>
  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
  <span class="n">concept</span> <span class="n">totally_ordered</span> <span class="o">=</span>
    <span class="n"><a href="equality_comparable.html">equality_comparable</a></span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span>
    <span class="n"><a href="../compare/three_way_comparable.html">partially-ordered-with</a></span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">T</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span>
  <span class="n">concept</span> <span class="n">totally_ordered_with</span> <span class="o">=</span>
    <span class="n">totally_ordered</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span> <span class="n">totally_ordered</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span>
    <span class="n"><a href="equality_comparable.html">equality_comparable_with</a></span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span>
    <span class="n">totally_ordered</span><span class="o">&lt;</span>
      <span class="n"><a href="../type_traits/common_reference.html">common_reference_t</a></span><span class="o">&lt;</span>
        <span class="k">const</span> <span class="n"><a href="../type_traits/remove_reference.html">remove_reference_t</a></span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="p">,</span>
        <span class="k">const</span> <span class="n"><a href="../type_traits/remove_reference.html">remove_reference_t</a></span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&amp;&gt;&gt;</span> <span class="o">&amp;&amp;</span>
    <span class="n"><a href="../compare/three_way_comparable.html">partially-ordered-with</a></span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</p>
<h2>概要</h2>
<p><code>totally_ordered</code>及び<code>totally_ordered_with</code>は、指定された型<code>T</code>もしくは<code>T, U</code>の間で<code>&lt; &lt;= &gt; &gt;=</code>の演算子による比較が可能であり、その順序付けが全順序の要件を満たしている事を表すコンセプトである。</p>
<h2>モデル</h2>
<ul>
<li>
<p>(1) : <code>const remove_reference_t&lt;T&gt;</code>型の左辺値<code>a, b, c</code>について次の条件を満たす場合に限って、型<code>T</code>は<code>totally_ordered</code>のモデルである。</p>
<ul>
<li><code>bool(a &lt; b)</code>、<code>bool(a &gt; b)</code>、<code>bool(a == b)</code>はいずれか1つだけが<code>true</code>となる</li>
<li><code>bool(a &lt; b)</code>かつ<code>bool(b &lt; c)</code>ならば、<code>bool(a &lt; c)</code></li>
<li><code>bool(a &lt;= b) == !bool(b &lt; a)</code>が<code>true</code>であること</li>
<li><code>bool(a &gt;= b) == !bool(a &lt; b)</code>が<code>true</code>であること</li>
</ul>
</li>
<li>
<p>(2) : <code>const remove_reference_t&lt;T&gt;, const remove_reference_t&lt;U&gt;</code>型の左辺値<code>t, u</code>及び<code>C = common_reference_t&lt;const remove_reference_t&lt;T&gt;&amp;, const remove_reference_t&lt;U&gt;&amp;&gt;</code>について次の条件を満たす場合に限って、型<code>T, U</code>は<code>totally_ordered_with</code>のモデルである。</p>
<ul>
<li><code>bool(t &lt;  u) == bool(C(t) &lt;  C(u))</code>が<code>true</code>であること</li>
<li><code>bool(t &gt;  u) == bool(C(t) &gt;  C(u))</code>が<code>true</code>であること</li>
<li><code>bool(t &gt;= u) == bool(C(t) &gt;= C(u))</code>が<code>true</code>であること</li>
<li><code>bool(t &lt;= u) == bool(C(t) &lt;= C(u))</code>が<code>true</code>であること</li>
<li><code>bool(u &gt;  t) == bool(C(u) &gt;  C(t))</code>が<code>true</code>であること</li>
<li><code>bool(u &lt;  t) == bool(C(u) &lt;  C(t))</code>が<code>true</code>であること</li>
<li><code>bool(u &lt;= t) == bool(C(u) &lt;= C(t))</code>が<code>true</code>であること</li>
<li><code>bool(u &gt;= t) == bool(C(u) &gt;= C(t))</code>が<code>true</code>であること</li>
</ul>
</li>
</ul>
<h2>例</h2>
<h3>totally_ordered</h3>
<p><div class="codehilite"><pre><span></span><code><span class="cp">#include</span> <span class="cpf"><a href="../iostream.html">&lt;iostream&gt;</a></span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf"><a href="../concepts.html">&lt;concepts&gt;</a></span><span class="cp"></span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="n">requires</span> <span class="n"><span style="color:#ff0000">std::totally_ordered</span></span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">" is totally ordered"</span> <span class="o">&lt;&lt;</span> <span class="n"><a href="../ostream/endl.html">std::endl</a></span><span class="p">;</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">" is not totally ordered"</span> <span class="o">&lt;&lt;</span> <span class="n"><a href="../ostream/endl.html">std::endl</a></span><span class="p">;</span>
<span class="p">}</span>


<span class="k">struct</span> <span class="n">ordered</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">ordered</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">ordered</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">not_ordered</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span> <span class="n">not_ordered</span><span class="o">&amp;</span><span class="p">)</span> <span class="k">const</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
<span class="p">};</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"int"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"double"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="n">ordered</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"ordered"</span><span class="p">);</span>

  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

  <span class="n">f</span><span class="o">&lt;</span><span class="n">not_ordered</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"not_ordered"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</p>
<h4>出力</h4>
<p><pre><code>int is totally ordered
double is totally ordered
ordered is totally ordered

not_ordered is not totally ordered
</code></pre></p>
<h3>totally_ordered_with</h3>
<p><div class="codehilite"><pre><span></span><code><span class="cp">#include</span> <span class="cpf"><a href="../iostream.html">&lt;iostream&gt;</a></span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf"><a href="../concepts.html">&lt;concepts&gt;</a></span><span class="cp"></span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="p">,</span> <span class="k">typename</span> <span class="n">U</span><span class="o">&gt;</span>
<span class="n">requires</span> <span class="n"><span style="color:#ff0000">std::totally_ordered_with</span></span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="n">name1</span> <span class="o">&lt;&lt;</span> <span class="s">" is totally ordered with "</span> <span class="o">&lt;&lt;</span> <span class="n">name2</span> <span class="o">&lt;&lt;</span> <span class="n"><a href="../ostream/endl.html">std::endl</a></span><span class="p">;</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="p">,</span> <span class="k">typename</span> <span class="n">U</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name2</span><span class="p">)</span> <span class="p">{</span>
  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="n">name1</span> <span class="o">&lt;&lt;</span> <span class="s">" is not totally ordered with "</span> <span class="o">&lt;&lt;</span> <span class="n">name2</span> <span class="o">&lt;&lt;</span> <span class="n"><a href="../ostream/endl.html">std::endl</a></span><span class="p">;</span>
<span class="p">}</span>


<span class="k">struct</span> <span class="n">S1</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">operator</span> <span class="nf">int</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">n</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">S1</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">S1</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

  <span class="c1">//暗黙変換によりintとして比較されてしまう事を防止</span>
  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">S1</span><span class="o">&amp;</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">S2</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">operator</span> <span class="nf">int</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">S2</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">S2</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

  <span class="c1">//暗黙変換によりintとして比較されてしまう事を防止</span>
  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">S2</span><span class="o">&amp;</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>

  <span class="c1">//この演算子によりS1とS2間の全ての比較演算子が導出される</span>
  <span class="k">friend</span> <span class="k">auto</span> <span class="k">operator</span><span class="o">&lt;=&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">S1</span><span class="o">&amp;</span> <span class="n">lhs</span><span class="p">,</span> <span class="k">const</span> <span class="n">S2</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">lhs</span><span class="p">.</span><span class="n">n</span> <span class="o">&lt;=&gt;</span> <span class="n">rhs</span><span class="p">.</span><span class="n">m</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">//この演算子によりS1とS2間の全ての同値比較演算子が導出される</span>
  <span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span> <span class="n">S1</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m</span> <span class="o">==</span> <span class="n">rhs</span><span class="p">.</span><span class="n">n</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">//std::common_referenceおよびstd::<a href="common_reference_with.html">common_reference_with</a>にアダプトする</span>
<span class="k">namespace</span> <span class="n">std</span> <span class="p">{</span>
  <span class="k">template</span><span class="o">&lt;</span><span class="k">template</span><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">TQual</span><span class="p">,</span> <span class="k">template</span><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">UQual</span><span class="o">&gt;</span>
  <span class="k">struct</span> <span class="n"><a href="../type_traits/basic_common_reference.html">basic_common_reference</a></span><span class="o">&lt;</span><span class="n">S1</span><span class="p">,</span> <span class="n">S2</span><span class="p">,</span> <span class="n">TQual</span><span class="p">,</span> <span class="n">UQual</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">using</span> <span class="n">type</span> <span class="o">=</span> <span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c1">//対称性のために引数順を逆にしたものも定義する</span>
  <span class="k">template</span><span class="o">&lt;</span><span class="k">template</span><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">TQual</span><span class="p">,</span> <span class="k">template</span><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">UQual</span><span class="o">&gt;</span>
  <span class="k">struct</span> <span class="n"><a href="../type_traits/basic_common_reference.html">basic_common_reference</a></span><span class="o">&lt;</span><span class="n">S2</span><span class="p">,</span> <span class="n">S1</span><span class="p">,</span> <span class="n">TQual</span><span class="p">,</span> <span class="n">UQual</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">using</span> <span class="n">type</span> <span class="o">=</span> <span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"int"</span><span class="p">,</span> <span class="s">"int"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"int"</span><span class="p">,</span> <span class="s">"double"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"bool"</span><span class="p">,</span> <span class="s">"double"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="n">S1</span><span class="p">,</span> <span class="n">S2</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"S1"</span><span class="p">,</span> <span class="s">"S2"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="n">S2</span><span class="p">,</span> <span class="n">S1</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"S2"</span><span class="p">,</span> <span class="s">"S1"</span><span class="p">);</span>

  <span class="n"><a href="../iostream/cout.html">std::cout</a></span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">*</span><span class="p">,</span> <span class="kt">double</span><span class="o">*&gt;</span><span class="p">(</span><span class="s">"int*"</span><span class="p">,</span> <span class="s">"double*"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="n">S1</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"S1"</span><span class="p">,</span> <span class="s">"int"</span><span class="p">);</span>
  <span class="n">f</span><span class="o">&lt;</span><span class="n">S2</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"S2"</span><span class="p">,</span> <span class="s">"int"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</p>
<h4>出力</h4>
<p><pre><code>int is totally ordered with int
int is totally ordered with double
bool is totally ordered with double
S1 is totally ordered with S2
S2 is totally ordered with S1

int* is not totally ordered with double*
S1 is not totally ordered with int
S2 is not totally ordered with int
</code></pre></p>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++20</li>
</ul>
<h3>処理系</h3>
<ul>
<li><a href="../../implementation.html#clang">Clang</a>: ??</li>
<li><a href="../../implementation.html#gcc">GCC</a>: 10.1 <span aria-label="検証済" role="img" title="検証済">✅</span></li>
<li><a href="../../implementation.html#visual_cpp">Visual C++</a>: 2019 Update 3 <span aria-label="検証済" role="img" title="検証済">✅</span></li>
</ul>
<h2>関連項目</h2>
<ul>
<li><a href="../../lang/cpp20/concepts.html">C++20 コンセプト</a></li>
</ul>
<h2>参照</h2>
<ul>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0898r3.pdf" target="_blank">P0898R3 Standard Library Concepts</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1754r1.pdf" target="_blank">P1754R1 Rename concepts to standard_case for C++20, while we still can</a></li>
<li><a href="https://wg21.cmeerw.net/lwg/issue3329" target="_blank">LWG Issue 3329. <code>totally_ordered_with</code> both directly and indirectly requires <code>common_reference_with</code></a></li>
<li><a href="https://wg21.cmeerw.net/lwg/issue3331" target="_blank">LWG Issue 3331. Define <code>totally_ordered/_with</code> in terms of <code>partially-ordered-with</code></a></li>
</ul></div>

      </div>
    </div>
  </div>
  
  
    <div id="sidebar" class="col-sm-3 col-sm-pull-9">
    </div>
  

</div>
            </div>
        </main>
<footer class="footer navbar navbar-default">
  <div class="container-fluid">
    <p><small>
      本サイトの情報は、
        <a href="https://creativecommons.org/licenses/by/3.0/deed.ja" rel="nofollow">クリエイティブ・コモンズ 表示 3.0 非移植 ライセンス(CC BY)</a>
      の下に提供されています。
    </small></p>
  </div>
</footer>
    </body>
</html>