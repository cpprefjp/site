# constexpr if æ–‡
* cpp17[meta cpp]

## æ¦‚è¦

constexpr ifæ–‡ã¨ã¯ã€æ–‡ã‚’æ¡ä»¶ä»˜ãã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸåˆ¶å¾¡æ§‹æ–‡ã§ã‚ã‚‹ã€‚

```cpp
if constepxr ( condition )
  statement
else
  statement
```

`condition`ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«`bool`ã«è©•ä¾¡ã§ãã‚‹å¼ã§ã‚ã‚‹ã€‚
`condition`ã«ã‚ˆã£ã¦æ¡ç”¨ã•ã‚Œãªã‹ã£ãŸåˆ†å²ã¯ã€2æ®µéšåå‰æ¢ç´¢(two-phase name lookup)ã«ãŠã„ã¦ã€
2æ®µéšç›®ã®ä¾å˜å¼ã®è§£æ(ä¾å˜åè§£æ±ºãŠã‚ˆã³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®Ÿä½“åŒ–)ã®å¯¾è±¡ã‹ã‚‰é™¤å¤–ã•ã‚Œã‚‹ã€‚
ãŸã ã—ã€ã©ã¡ã‚‰ã®åˆ†å²ã‚‚1æ®µéšç›®ã®æ§‹æ–‡è§£æãƒ»æ„å‘³è§£æã®å¯¾è±¡ã¨ãªã‚‹äº‹ã«æ³¨æ„ã™ã‚‹ã€‚

## ä»•æ§˜

constexpr ifæ–‡ã¯æ–‡æ³•çš„ã«ã¯é€šå¸¸ã®`if`æ–‡ã«ãŠã„ã¦`(condition)`ã®å‰ã«`constexpr`ãŒã‚ã‚‹ã ã‘ã§ã‚ã‚‹ã€‚
æ¡ä»¶`condition`ã¯æ–‡è„ˆçš„ã«`bool`ã«å¤‰æ›å¯èƒ½ãªå®šæ•°å¼ã§ã‚ã‚‹
(ä¾‹ãˆã°`constexpr`æŒ‡å®šã•ã‚ŒãŸ`explicit operator bool()`ã‚’æŒã¤å‹ã®å¼)ã€‚
æ¡ä»¶ãŒ`false`ã®æ™‚æœ€åˆã®åˆ†å²ãŒå»ƒæ£„æ–‡(discarded statement)ã¨ãªã‚Šã€`true`ã®æ™‚2ã¤ç›®ã®åˆ†å²ãŒå»ƒæ£„æ–‡ã¨ãªã‚‹ã€‚
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿä½“åŒ–ã®å¾Œã«æ¡ä»¶ãŒéä¾å˜å¼ã®ã¨ãã€å»ƒæ£„æ–‡ã¯å®Ÿä½“åŒ–ã•ã‚Œãªã„ã€‚

- å»ƒæ£„æ–‡ã«ç¾ã‚Œã‚‹odr-usedãªæ§‹æˆè¦ç´ ã¯å®šç¾©ã•ã‚Œã¦ã„ãªãã¦ã‚‚è‰¯ã„ã€‚
- constexpr ifæ–‡ã®ä¸ã®`case`åŠã³`default`ãƒ©ãƒ™ãƒ«ã¯ã€åŒã˜åˆ†å²ã«ã‚ã‚‹`switch`ã«å¯¾å¿œã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
- constexpr ifæ–‡ã®ä¸ã®ãƒ©ãƒ™ãƒ«ã¯ã€åŒã˜åˆ†å²å†…ã‹ã‚‰ã—ã‹å‚ç…§ã—ã¦ã¯ãªã‚‰ãªã„ã€‚
- é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã®æ¨è«–ã«ãŠã„ã¦ã€å»ƒæ£„æ–‡å†…ã®returnæ–‡ã¯ç„¡è¦–ã•ã‚Œã‚‹ã€‚

constexpr ifæ–‡ã‚’ç”¨ã„ã‚Œã°ä¾‹ãˆã°ä»¥ä¸‹ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ã€‚
constexpr ifæ–‡ã®ä¸ã«ã‚ã‚‹ `s += a1` ã‚„ `s += a1.capacity()` ç‰ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯ã€`A1`ãŒç‰¹å®šã®å‹ã®æ™‚ã«ã—ã‹é©æ ¼ã«ãªã‚‰ãªã„ã€‚
é€šå¸¸ã®ifæ–‡ã‚’ä½¿ã†ã¨ã“ã‚Œã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹äº‹ã¯ã§ããªã„ãŒã€
constexpr ifæ–‡ã‚’ç”¨ã„ã‚Œã°ç‰¹å®šã®æ¡ä»¶ã‚’æº€ãŸã—ãŸæ™‚ã«ã ã‘ã‚³ãƒ¼ãƒ‰ãŒå®Ÿä½“åŒ–ã•ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¿°ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚

```cpp
#include <vector>
#include <string>
#include <iostream>
#include <type_traits>

template <typename Out, typename A1, typename A2>
void f(Out& o, A1 const& a1, A2 const& a2)
{
  int s = 0;
  if constexpr (std::is_same_v<A1, int>)
    s += a1;
  else if constexpr (std::is_same_v<A1, std::vector<int>>)
    s += a1.capacity();

  if constexpr (std::is_same_v<A2, int>)
    s += a2;
  else if constexpr (std::is_same_v<A2, std::string>)
    s += a2.size();

  if constexpr (std::is_same_v<Out, int>)
    o = s;
  else if constexpr (std::is_same_v<Out, std::ostream>)
    o << s;
}
```

ã“ã®æ§˜ãªåˆ†å²ã¯ã€å¾“æ¥ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç‰¹æ®ŠåŒ–ã‚„æ¨è«–è¦å‰‡(SFINAE)ã‚’åˆ©ç”¨ã—ãŸæ‰‹æ³•ã«ã‚ˆã‚Šå®Ÿç¾ã•ã‚Œã¦ã„ãŸãŒã€
ä¸€ã¤ã®é–¢æ•°ã®ä¸ã«åˆ†å²ãŒè¤‡æ•°ã‚ã‚‹ã¨ç”¨æ„ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ç‰¹æ®ŠåŒ–ãƒ»å¤šé‡å®šç¾©ãŒæŒ‡æ•°é–¢æ•°çš„ã«å¢—ãˆã‚‹ã€‚
ä»£ã‚ã‚Šã«å‡¦ç†æ¯ã«åˆ†å‰²ã—ã¦ãã‚Œãã‚Œã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”¨æ„ã™ã‚‹ã“ã¨ãŒå¯èƒ½ãªå ´åˆã‚‚ã‚ã‚‹ãŒã€
ãã‚Œã§ã‚‚è¨˜è¿°ãŒå®Ÿéš›ã«ã—ãŸã„å‡¦ç†ã«æ¯”ã¹ã¦ä¸å¿…è¦ã«è¤‡é›‘ã«ãªã‚‹ã€‚
constexpr ifæ–‡ã®å°å…¥ã«ã‚ˆã‚Šãã®ã‚ˆã†ãªè¤‡é›‘ãªæ‰‹æ³•ã‚’ç”¨ã„ãšã«ç´ ç›´ã«æ¡ä»¶ä»˜ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’å®Ÿç¾ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

### 2æ®µéšåå‰æ¢ç´¢ã«ãŠã‘ã‚‹æ³¨æ„ç‚¹

`constexpr if`æ–‡ã§ã€å®Ÿè¡Œã•ã‚Œãªã„æ–¹ã®`statement`ã¯å»ƒæ£„æ–‡(discarded statement)ã¨ãªã‚Šã€æ–‡ã®å®Ÿä½“åŒ–ã‚’é˜²ãã€‚è¨€ã„æ›ãˆã‚‹ã¨ã€2æ®µéšåå‰æ¢ç´¢ã«ãŠã‘ã‚‹ä¾å˜å(dependent name)ã¯ã€å»ƒæ£„æ–‡ã®å ´åˆæ¤œè¨¼ã•ã‚Œãªã„ã€‚ã¾ãŸæ–‡ãŒå®Ÿä½“åŒ–ã•ã‚Œãªã„ã®ã ã‹ã‚‰é€šå¸¸ã®ifæ–‡ã¨åŒã˜ãã‚‚ã¡ã‚ã‚“å®Ÿè¡Œæ™‚ã«å®Ÿè¡Œã‚‚ã•ã‚Œãªã„ã€‚ã¤ã¾ã‚Šæ¬¡ã®ä¾‹ã¯æ„å›³ã¨ç•°ãªã‚‹æŒ™å‹•ã‚’ç¤ºã™ã€‚

```cpp example
#include <type_traits>

template <typename T>
void f(T)
{
  if constexpr (std::is_same_v<T, int>)
  {
    // TãŒintã®ã¨ãã®ã¿è©•ä¾¡ã•ã‚Œã¦ã»ã—ã„
    // å®Ÿéš›ã¯å¸¸ã«è©•ä¾¡ã•ã‚Œã‚‹
    static_assert(false);
  }
}

int main()
{
  f(2.4);
  f(3);
}
```

ãªãœãªã‚‰ã°å»ƒæ£„æ–‡ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®Ÿä½“åŒ–ã‚’é˜²ã (ä¾å˜åã®æ¤œè¨¼ã‚’ã—ãªã„) ã ã‘ã§ã€éä¾å˜åã¯æ¤œè¨¼ã•ã‚Œã‚‹ã‹ã‚‰ã§ã‚ã‚‹ã€‚ã“ã®ä¾‹ã®[`static_assert`](/lang/cpp11/static_assert.md)ã«æ¸¡ã™æ¡ä»¶å¼ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ä¾å˜ã—ã¦ã„ãªã„ã®ã§ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®£è¨€æ™‚ã«æ¤œè¨¼ã•ã‚Œã€ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚è¨€ã„æ›ãˆã‚Œã°`static_assert`ã«æ¸¡ã™æ¡ä»¶å¼ãŒä¾å˜åãªã‚‰ã°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®£è¨€æ™‚ã«æ¤œè¨¼ã•ã‚Œãšã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿä½“åŒ–ã¾ã§è©•ä¾¡ã‚’é…ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```cpp example
#include <type_traits>

template <typename T>
constexpr bool false_v = false;

template <typename T>
void f(T)
{
  if constexpr (std::is_same_v<T, int>)
  {
    // TãŒintã®ã¨ãã®ã¿è©•ä¾¡ã•ã‚Œã‚‹
    static_assert(false_v<T>);
  }
}

int main()
{
  f(2.4);
  f(3);
}
```

ä¸Šã®ä¾‹ã§ã¯`false_v`ã‚’ä½œã£ãŸãŒã€ãƒ©ãƒ ãƒ€å¼ã§ã‚‚åŒæ§˜ã®ã“ã¨ãŒã§ãã‚‹ã€‚ãƒ©ãƒ ãƒ€å¼ã¯ãã‚ŒãŒè¨˜è¿°ã•ã‚ŒãŸä½ç½®ã‹ã‚‰è¦‹ã¦æœ€å°ã®ã‚¹ã‚³ãƒ¼ãƒ— (ãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ï¼ã‚¯ãƒ©ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ï¼åå‰ç©ºé–“ã‚¹ã‚³ãƒ¼ãƒ—) ã§å®£è¨€ã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚ä¾‹ãˆã°ã€ä¸‹ã®ä¾‹ã§ã¯`f()`ã¨ã„ã†é–¢æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§å®£è¨€ã•ã‚Œã‚‹ã€‚é–¢æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã®ã‚¯ãƒ©ã‚¹ã¯ä¾å˜åã«ãªã‚‹ãŸã‚ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®£è¨€æ™‚ã«æ¤œè¨¼ã•ã‚Œãšã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿä½“åŒ–ã¾ã§è©•ä¾¡ã‚’é…ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```cpp example
#include <type_traits>

template <typename T>
void f(T)
{
  if constexpr (std::is_same_v<T, int>)
  {
    // TãŒintã®ã¨ãã®ã¿è©•ä¾¡ã•ã‚Œã‚‹
    static_assert([]{return false;}());
  }
}

int main()
{
  f(2.4);
  f(3);
}
```

`constexpr if`æ–‡ã®æ¡ä»¶å¼å†…ã¯å®Ÿä½“åŒ–ãŒèµ·ãã‚‹ã€‚ã—ãŸãŒã£ã¦å®Ÿä½“åŒ–ã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚‚ã®ã¯æ›¸ã„ã¦ã¯ã„ã‘ãªã„ã€‚

```cpp example
#include <type_traits>
#include <iostream>

struct Hoge {
  using type = int;
};

template <typename T>
void f()
{
  if constexpr (std::is_same_v<T::type, int> || std::is_same_v<T::value_type, int>) {
    std::cout << "is int" << std::endl;
  }
}

int main()
{
  f<Hoge>(); //error: Hoge::value_typeã¯å˜åœ¨ã—ãªã„ã®ã§if constexpræ–‡ã®æ¡ä»¶å¼ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
}
```

### é¡ä¼¼æ©Ÿèƒ½ã¨ã®æ¯”è¼ƒ

`constexpr if`æ–‡ã®å°å…¥ã«ã‚ˆã£ã¦C++ã®`if`ç³»ã®æ¡ä»¶åˆ†å²ã¯3ç¨®é¡ã«ãªã£ãŸã€‚

- ãƒ—ãƒªãƒ—ãƒã‚»ã‚¹æ™‚`if`: `#if`
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚`if`: `constexpr if`
- å®Ÿè¡Œæ™‚`if`: `if`

ãƒ—ãƒªãƒ—ãƒã‚»ã‚¹æ™‚ã®`#if`æŒ‡ä»¤ã¨ç•°ãªã‚Šã€`constexpr if`æ–‡ã¯å®£è¨€ã‚’æ¡ä»¶ä»˜ãã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚ä¾‹ãˆã°æ¬¡ã®ä¾‹ã¯ä¸é©æ ¼ã§ã‚ã‚‹ã€‚

```cpp
struct X {
  if constexpr (cond) {
    void f();
    using int32 = int;
  }
  else {
    void g();
  }
};
```

`constexpr if`æ–‡ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½œã‚‹ã®ã§ã€ä¾‹ãˆã°Visual C++ã®ç‹¬è‡ªæ‹¡å¼µæ©Ÿèƒ½ã§ã‚ã‚‹[`__if_exists`](https://docs.microsoft.com/ja-jp/cpp/cpp/if-exists-statement)ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ›¸ãæ–¹ãŒå¯èƒ½ã§ã‚ã‚‹ãŒã€`constexpr if`æ–‡ã§ã“ã‚Œã‚’å†ç¾ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚

```cpp
struct A {
  static float get() { return 1.2f; }
};
int main() {
  auto a = __if_exists(A::get) {
    A::get();
  }
  __if_not_exists(A::get) {
    "not found";
  }
}
```

åŒæ§˜ã«Dè¨€èªã®`static if`ã¨ã¯é•ã„ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½œã‚‹ã®ã§ã€Dè¨€èªã§å¯èƒ½ãªæ¬¡ã®ã‚ˆã†ãªã“ã¨ã¯`constexpr if`æ–‡ã§å†ç¾ã§ããªã„ã€‚

```D
const int i = 3;
class C {
  const int k = 5;

  static if (i == 3) // Dè¨€èªã§ã¯ok
    int x;
  else
    long x;
}
```

ãªãŠå‹æƒ…å ±ã®ifãŒæ¬²ã—ã„ãªã‚‰ã°ã€[`std::conditional`](/reference/type_traits/conditional.md) ãŒã‚ã‚‹ã€‚

```cpp example
#include <type_traits>
#include <random>
#include <cstdint>
#include <iostream>

// C++11
template<typename Integer>
using mt = typename std::conditional<std::is_same<Integer, std::uint32_t>::value, std::mt19937, std::mt19937_64>::type;

// C++14ä»¥é™
// template<typename Integer>
// using mt = std::conditional_t<std::is_same<Integer, std::uint32_t>::value, std::mt19937, std::mt19937_64>;

int main()
{
  mt<std::uint32_t> m1 {37};
  std::cout << m1() << std::endl;
}
```
* std::conditional[link /reference/type_traits/conditional.md]
* std::conditional_t[link /reference/type_traits/conditional.md]
* std::mt19937_64[link /reference/random/mt19937_64.md]
* std::uint32_t[link /reference/cstdint/uint32_t.md]


## ã“ã®æ©Ÿèƒ½ãŒå¿…è¦ã«ãªã£ãŸèƒŒæ™¯ãƒ»çµŒç·¯

ä¸€ç•ªæœ€åˆã®é™çš„ãªæ¡ä»¶åˆ†å²ã®ææ¡ˆ N3322 ã®ç›´æ¥ã®ãã£ã‹ã‘ã«ãªã£ãŸã®ã¯ã€
é™çš„ãªæ¡ä»¶ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ `static_assert` ã® C++11 ã¸ã®å°å…¥ã§ã‚ã‚‹ã€‚
ãã®æ‹¡å¼µã¨ã—ã¦é™çš„ãªæ¡ä»¶ã«ã‚ˆã£ã¦å®£è¨€ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹æ©Ÿèƒ½ã‚’è€ƒãˆã‚‹ã®ã¯è‡ªç„¶ãªç™ºæƒ³ã§ã‚ã‚‹ã€‚
N3322 ã§ã¯ã€`static_assert` ã¨åŒã˜ã‚ˆã†ã«ã€
åå‰ç©ºé–“ã‚¹ã‚³ãƒ¼ãƒ—ãƒ»ã‚¯ãƒ©ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ãƒ»ãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ã®ä½•ã‚Œã§ã‚‚ä½¿ãˆã‚‹ `static_if` ã‚’ææ¡ˆã—ã¦ã„ã‚‹ã€‚
æ¬¡ã®ææ¡ˆ N3329 ã§ã¯Dè¨€èªã«ãŠã‘ã‚‹å®Ÿè£… [D0.124 `static if` (2005å¹´)ã€D2.015 Template Constraints (2008å¹´)] ã®å®Ÿç¸¾ã‚’å…ƒã«ã€
ã‚ˆã‚Šè©³ã—ã„ææ¡ˆã‚’è¡Œã£ã¦ã„ã‚‹ã€‚

ã“ã‚Œã‚‰ã®ææ¡ˆã®ç›®çš„ã¯ã€å¾“æ¥ä½¿ã‚ã‚ŒãŸæ‰‹æ³•ã§ã‚ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ®ŠåŒ–ã€SFINAEã€
ã‚¿ã‚°ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãªã©ã®è¤‡é›‘ãªæŠ€æ³•ã‚’å˜ç´”åŒ–ã™ã‚‹ã“ã¨ã§ã‚ã£ãŸã€‚

- (A) é–¢æ•°ã‚„ãƒ¡ãƒ³ãƒé–¢æ•°ã®é™çš„ãªæ¡ä»¶åˆ†å²ã«ã¤ã„ã¦ã¯ã€å¾“æ¥ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ®ŠåŒ–ã‚„SFINAEãŒç”¨ã„ã‚‰ã‚ŒãŸã€‚
  é™çš„ãªæ¡ä»¶åˆ†å²ã‚’ç”¨ã„ã‚Œã°ã‚ˆã‚Šè‡ªç„¶ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã‚ã‚‹ã€‚
- (B) ãƒ‡ãƒ¼ã‚¿ãƒ¡ãƒ³ãƒã®é™çš„ãªæ¡ä»¶åˆ†å²ã«ã¤ã„ã¦ã¯ã€å¾“æ¥ã¯å†å¸°çš„ãªã‚¯ãƒ©ã‚¹ã®æ´¾ç”Ÿã¨EBO(ç©ºåŸºåº•æœ€é©åŒ–)ã®æŠ€æ³•ã‚’ç”¨ã„ãŸã€‚
  ãƒ‡ãƒ¼ã‚¿ãƒ¡ãƒ³ãƒã®æ¡ä»¶åˆ†å²æ¯ã«ã‚¯ãƒ©ã‚¹ã‚’æ´¾ç”Ÿã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã¾ãŸæ´¾ç”Ÿã«ã‚ˆã‚‹æ§˜ã€…ãªåˆ¶é™ã‚’é¿ã‘ã‚‹ãŸã‚ã«è¤‡é›‘ã«ãªã‚‹ã€‚
- (C) ãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ã«ãŠã‘ã‚‹é™çš„ãªæ¡ä»¶åˆ†å²ã«é–¢ã—ã¦ã¯ã€å¾“æ¥ã¯åˆ†å²æ¯ã«å‡¦ç†ã‚’æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®šç¾©ã—ã¦å§”è²ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚
  å‡¦ç†ã®é–“ã§å¤‰æ•°ã‚’æ˜ç¤ºçš„ã«å…±æœ‰ã™ã‚‹ãŸã‚ã«å‡¦ç†ãŒè¤‡é›‘ã«ãªã‚‹ã€‚å‡¦ç†ãŒè¤‡æ•°ç®‡æ‰€ã«åˆ†æ–ã•ã‚Œã‚‹ãŸã‚èªã¿ã«ããã€ã¾ãŸè¨˜è¿°ã‚‚ç…©é›‘ã§ã‚ã‚‹ã€‚

ç‰¹ã«ã“ã‚Œã‚‰ã®ææ¡ˆã§ç‰¹å¾´çš„ã ã£ãŸã®ã¯ã€

- é™çš„ãªæ¡ä»¶åˆ†å²ã«ã‚ˆã£ã¦é–¢æ•°ã‚„å¤‰æ•°ã®å®£è¨€è‡ªä½“ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
- é™çš„ãªæ¡ä»¶åˆ†å²ã®æ§‹æ–‡ã¯æ–°ã—ã„ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½œã‚‰ãªã„ã€‚ã¤ã¾ã‚Šæ¡ä»¶åˆ†å²å†…ã®å®£è¨€ã¯å¤–ã‹ã‚‰ç›´æ¥è¦‹ãˆã‚‹ã€‚
- å»ƒæ£„ã•ã‚ŒãŸåˆ†å²(discarded branch)ã«ã¤ã„ã¦ã¯æ§‹æ–‡è§£æã™ã‚‰å®Ÿæ–½ã—ãªã„ (å—å¥è§£æã ã‘è¡Œã†)ã€‚

ä¸€æ–¹ã§ N3576 ãŠã‚ˆã³ N3613 ã«ãŠã„ã¦é™çš„ãªæ¡ä»¶åˆ†å²ã®ææ¡ˆã¯å³ã—ã„æ‰¹åˆ¤ã«æ™’ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚‹ã€‚
N3576 ã§ã¯ Concepts Lite ã«ã‚ˆã‚‹æ¡ä»¶ä»˜ãã®å®£è¨€ã‚’è¡Œã†æ©Ÿèƒ½ã¨ã€é™çš„ãªæ¡ä»¶åˆ†å²ã®æ©Ÿèƒ½ã®æ£²ã¿åˆ†ã‘ãŒæ‡¸å¿µã•ã‚ŒãŸã€‚
ä¸¡æ©Ÿèƒ½ã®çŸ›ç›¾ãŒç”Ÿã˜ã‚‹æ‡¸å¿µã‹ã‚‰å°‘ãªãã¨ã‚‚ Concepts Lite ã®ä»•æ§˜ãŒå›ºã¾ã‚‹ã¾ã§ã¯é™çš„ãªæ¡ä»¶åˆ†å²ã®è°è«–ã¯å‡çµã™ã‚‹ã¹ãã¨ã®æ„è¦‹ãŒå¼·ã‹ã£ãŸã€‚
æ›´ã«ã€N3613 ã§ã¯ N3322/N3329 ã§ææ¡ˆã•ã‚ŒãŸä»•æ§˜ã«å¯¾ã™ã‚‹æ‰¹åˆ¤ãŒè¡Œã‚ã‚ŒãŸã€‚
åˆ†ã‹ã‚Šã«ãããƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã«ãã„ã¨ã„ã†äº‹ã¨ã€Concepts Lite ã¨ã®æ£²ã¿åˆ†ã‘ã®å•é¡Œã®ä»–ã«ã€
AST(æŠ½è±¡æ§‹æ–‡æœ¨)ã‚’å…ƒã«ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®é™çš„è§£æãƒ„ãƒ¼ãƒ«ã®é–‹ç™ºã‚’å›°é›£ã«ã™ã‚‹ã¨ã®æŒ‡æ‘˜ãŒã‚ã£ãŸã€‚
ã¾ãŸã€é™çš„ãªæ¡ä»¶åˆ†å²ã§è¨˜è¿°ãŒæœ¬å½“ã«ç°¡å˜ã«ãªã‚‹ã®ã‹ã¨ã„ã†ç‚¹ã«ã¤ã„ã¦ã®å¹¾ã¤ã‹ã®ç–‘å•ã‚‚å‘ˆã•ã‚ŒãŸã€‚
ä¾‹ãˆã°ã€ã‚¯ãƒ©ã‚¹ãƒ¡ãƒ³ãƒã«å¯¾ã™ã‚‹é™çš„ãªæ¡ä»¶åˆ†å²ã«é–¢ã—ã¦ã¯ã€
ä½¿ç”¨ã™ã‚‹å´ã§ã‚‚åŒæ§˜ã®é™çš„ãªæ¡ä»¶åˆ†å²ãŒæ¯å›å¿…è¦ã§ã‚ã‚Šç…©é›‘ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã€‚
ã¾ãŸã€å®Ÿéš›ã«è¤‡é›‘ãªå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ã®ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…è€…ã§ã‚ã‚Šã€
ãã®æ§˜ãªè€…ã¯å¾“æ¥ã®è¤‡é›‘ãªæ‰‹æ³•ã‚‚ç†è§£ã—ã¦ã„ã‚‹ã¯ãšãªã®ã§ã€æ–°ã—ã„æ©Ÿèƒ½ã¯ä¸è¦ã§ã¯ãªã„ã‹ã¨ã„ã†ã“ã¨ã€‚
ä»–ã«ã€é–¢æ•°ã®å¤šé‡å®šç¾©ã‚„å¾“æ¥ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ®ŠåŒ–ãƒ»SFINAEæŠ€æ³•ã¨æ¯”ã¹ã¦è‡ªç”±åº¦ãŒå°ã•ã„ã¨ã„ã†ã“ã¨ã€
æ›´ã«ãã‚Œã‚‰ã¨ã®çµ„ã¿åˆã‚ã›ã‚ˆã£ã¦èµ·ã“ã‚‹å•é¡Œã«ã¤ã„ã¦ã‚‚æ‡¸å¿µãŒã‚ã£ãŸã€‚

N4461, P0128R0, P0128R1 ã§ã¯æ‰¹åˆ¤ã‚’å—ã‘ã¦é™çš„ãªæ¡ä»¶åˆ†å²ã®å¤§å¹…ãªå˜ç´”åŒ–ãŒææ¡ˆã•ã‚ŒãŸã€‚
ç‰¹ã«ã€é™çš„ãªæ¡ä»¶åˆ†å²ã¯ä¸Šè¨˜ (C) ãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ã«é™å®šã—ã€å®£è¨€ã®æ¡ä»¶åˆ†å²ã«ã¯ä½¿ãˆãªã„ã“ã¨ã¨ã—ãŸã€‚
ã¾ãŸé™çš„ãªæ¡ä»¶åˆ†å²ã¯é€šå¸¸ã®`if`æ–‡ã¨åŒæ§˜ã«å¤‰æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹ã¨ã„ã†ã“ã¨ã€
åŠã³ã€å»ƒæ£„ã•ã‚ŒãŸåˆ†å²ã®æ§‹æ–‡è§£æã‚‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®2æ®µéšåå‰æ¢ç´¢ã¨åŒæ§˜ã«ã—ã¦å®Ÿæ–½ã™ã‚‹ã¨ã„ã†ã“ã¨ãŒææ¡ˆã•ã‚ŒãŸã€‚
ã¾ãŸã€é™çš„ãªæ¡ä»¶åˆ†å²ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸ã§ã—ã‹ä½¿ãˆãªã„ã‚ˆã†åˆ¶é™ã™ã‚‹ã“ã¨ã‚‚ææ¡ˆã•ã‚ŒãŸã€‚

P0292R0-P0292R2 ã§ã¯ã€é™çš„ãªæ¡ä»¶åˆ†å²ã®ã‚ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒ `if constexpr` ã«ãªã£ãŸã€‚
ã¾ãŸã€`static_assert` ã¨åŒæ§˜ã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤–ã§ã‚‚é™çš„ãªæ¡ä»¶åˆ†å²ã‚’è¨±ã™ã‚ˆã†ã«ä¿®æ£ã•ã‚ŒãŸã€‚
`auto`ã«ã‚ˆã‚‹é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã®æ¨è«–ã§ã€å»ƒæ£„ã•ã‚ŒãŸåˆ†å²å†…ã®`return`æ–‡ã¯å‚è€ƒã«ã—ãªã„æ—¨ãŒæ˜è¨˜ã•ã‚Œã€
C++17 ã®è¦æ ¼åŸæ¡ˆ N4606 ã«ãŠã„ã¦å¤‰æ›´ãŒé©ç”¨ã•ã‚ŒãŸã€‚

## æ¤œè¨ã•ã‚ŒãŸã»ã‹ã®é¸æŠè‚¢

N3322 ã§ã¯ `static_assert` ã‹ã‚‰ã®é€£æƒ³ã§ã‚ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ `static_if` / `else` ã®çµ„ãŒææ¡ˆã•ã‚ŒãŸã€‚
N3329 ã§ã¯Dè¨€èªã‚’å‚è€ƒã«ã—ã¦ `static if` / `else` ã®çµ„ãŒææ¡ˆã•ã‚ŒãŸã€‚
N3613 ã§ã¯ `static if` ã®æ§˜ãªè¤‡åˆã‚ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ã€é–“ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŒŸã‚ã‚‹ã®ã§ã€åˆ†ã‹ã‚Šã«ããå•é¡Œã§ã‚ã‚‹ã¨æŒ‡æ‘˜ã•ã‚ŒãŸã€‚
ã¾ãŸã€é€šå¸¸ã®`if`æ–‡ã¨é™çš„ãªæ¡ä»¶åˆ†å²ã¨ãŒäº’ã„ã«å…¥ã‚Œåã«ãªã£ã¦ã„ã‚‹æ™‚ã« `else` ãŒã©ã‚Œã«å±ã—ã¦ã„ã‚‹ã®ã‹åˆ†ã‹ã‚Šã«ãã„ã¨ã®æŒ‡æ‘˜ã‚‚ã‚ã£ãŸã€‚
ã“ã‚Œã‚’å—ã‘ã¦ P0128R0 ã§ã¯ã€é™çš„ãªæ¡ä»¶åˆ†å²ãŒãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ã«åˆ¶é™ã•ã‚Œã‚‹ã¨å…±ã«ã€`constexpr_if` / `constexpr_else` ã¨ãªã£ãŸã€‚
P0128R1 ã§ã¯ã€`constexpr if` / `constexpr_else` ã«æ”¹è¨‚ã•ã‚ŒãŸã€‚
P0292R0 ã§ç¾è¡Œã® `if constexpr` / `else` ãŒææ¡ˆã•ã‚Œã€
æ–‡æ³•ä¸Šã¯é€šå¸¸ã®`if`æ–‡ã«å¯¾ã™ã‚‹`constexpr`ã‚ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ä¿®é£¾ã¨ã„ã†å½¢ã«ã¾ã¨ã‚ã‚‰ã‚ŒãŸã€‚
`else` ã«é–¢ã—ã¦ã¯ã€é€šå¸¸ã®å…¥ã‚Œåã®`if`æ–‡ã¨åŒæ§˜ã«ä¸€ç•ªè¿‘ãã®`if`/`if constexpr`æ–‡ã«å±ã™ã‚‹ã¨ã™ã‚Œã°æ›–æ˜§ã•ã¯ãªã„ã“ã¨ã€
ã¾ãŸ `if constexpr` ã‚’ç¹‹ã’ãŸæ™‚ã®ç…©é›‘ã•ã‹ã‚‰å˜ã«`else`ã¨ã™ã‚‹ã“ã¨ã«ãªã£ãŸã€‚

```cpp
// N3322
static_if (condition)
  statement
else static_if (condition)
  statement
else
  statement

// N3329
static if (condition) {
  statement
} else static if (condition) {
  statement
} else {
  statement
}

// P0128R0
constexpr_if (condition)
  statement
constexpr_else
  statement

// P0128R0
constexpr if (condition)
  statement
constexpr_else constexpr if (condition)
  statement
constexpr_else
  statement
```

é™çš„ãªæ¡ä»¶åˆ†å²ã®å„åˆ†å²ã‚’å›²ã‚€æ³¢æ‹¬å¼§ `{ ... }` ã«é–¢ã—ã¦ã¯ã€
å»ƒæ£„ã•ã‚ŒãŸåˆ†å²ã®æ§‹æ–‡è§£æã‚’è¡Œã‚ãªã„ N3329 ã«ãŠã„ã¦ã¯å¿…é ˆã¨ã•ã‚ŒãŸã€‚
ã¤ã¾ã‚Šã€æ§‹æ–‡è§£æã¯è¡Œã‚ãšã«å˜ã«æ‹¬å¼§ã ã‘ã®å¯¾å¿œã‚’å–ã‚‹ã“ã¨ã«ã‚ˆã‚Šåˆ†å²ã®çµ‚ã‚ã‚Šã‚’èª¿ã¹ã‚‹ã€‚
ã—ã‹ã—ã€N3613 ã«ãŠã‘ã‚‹æ‰¹åˆ¤ã«ã‚ˆã‚Šã€çµå±€ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®2æ®µéšåå‰æ¢ç´¢ã¨åŒæ§˜ã«ã€
å»ƒæ£„ã•ã‚ŒãŸåˆ†å²ã§ã‚‚æ§‹æ–‡è§£æã¯å®Ÿæ–½ã•ã‚Œã€éä¾å˜åã«é–¢ã—ã¦ã¯1æ®µéšç›®ã§æ¤œè¨¼ã•ã‚Œã‚‹ã“ã¨ã¨ãªã£ãŸã€‚
ã“ã‚Œã«ã‚ˆã‚Šé€šå¸¸ã®`if`æ–‡ã¨åŒæ§˜ã« `{ ... }` ã¯ä»»æ„ã¨ãªã£ãŸã€‚

```cpp
// N3329
template<class T>
void g() {
  static if (false) {
    static_assert(false); // å¼•ã£ã‹ã‹ã‚‰ãªã„ (æ§‹æ–‡è§£æã™ã‚‰å®Ÿæ–½ã•ã‚Œãªã„)
  }
}

// P0292R0
template<class T>
void g() {
  if constexpr (false)
    static_assert(false); // å»ƒæ£„ã•ã‚ŒãŸåˆ†å²å†…ã§ã‚‚å¼•ã£ã‹ã‹ã‚‹ (ill-formed NDR)
}
```

é™çš„ãªæ¡ä»¶ã«ã‚ˆã£ã¦é–¢æ•°ã®å®£è¨€ãƒ»å®Ÿè£…ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹æ§‹æ–‡ã¨ã—ã¦ã€N3322 ãŠã‚ˆã³ N3329 ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã‚‚ææ¡ˆã•ã‚ŒãŸã€‚
ã“ã‚Œã¯ `requires` ã‚ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ç”¨ã„ã‚‹ Concepts Lite ãŒç›®çš„ã¨ã™ã‚‹æ©Ÿèƒ½ã¨ã®é¡ä¼¼æ€§ã‚‚ã‚ã‚Šã€
Concepts Lite ã®ä»•æ§˜ãŒç¢ºå®šã—ã¦ã„ãªã„æ®µéšã§ã€
ã©ã®ã‚ˆã†ã«æ£²ã¿åˆ†ã‘ã‚‹ã®ã‹ã‚„ä¸¡æ–¹ç”¨ã„ãŸæ™‚ã®æŒ¯ã‚‹èˆã„ã«ã¤ã„ã¦ã®è€ƒå¯ŸãŒå•é¡Œã«ãªã£ãŸã€‚

```cpp
// N3322
template<typename T>
void f()
  static_if (condition) {
    statement
  } else static_if (condition) {
    statement
  } else {
    statement
  }

// N3329 (cf Dè¨€èªã® Template Constraints)
template<typename T> void f() if (condition);
template<typename T>
void f()
  if (condition) {
    statement
  }
```

ãƒ–ãƒãƒƒã‚¯ã‚¹ã‚³ãƒ¼ãƒ—ã§ã®é™çš„ãªæ¡ä»¶åˆ†å²ã«ã¤ã„ã¦ã€
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹ä»£æ›¿æ‰‹æ®µã¨ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã‚‚å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒ P0128R0 ã§æŒ‡æ‘˜ã•ã‚Œã¦ã„ã‚‹ã€‚
ã¤ã¾ã‚Šã€ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ãƒ©ãƒ ãƒ€ã®å®Ÿä½“åŒ–ã¯å®Ÿéš›ã«é–¢æ•°ã®å‘¼ã³å‡ºã—ãŒã‚ã‚‹æ™‚ã«è¡Œã‚ã‚Œã‚‹ã®ã§ã€
å®Ÿä½“åŒ–ã‚’é…å»¶ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã‚ã‚‹ã€‚

```cpp
// P0128R0
template <int arg, typename ... Args> int do_something(Args... args) {
  return static_if<sizeof...(args)>::get(
    [](auto x, auto y) { return x+y; },
    [](auto x) { return *x; })(args...);
}
```

ãã®ä»–ã«ã€å…ƒã€…é™çš„ãªæ¡ä»¶åˆ†å²ã§ç½®ãæ›ãˆã‚‹ç›®çš„ã ã£ãŸã€
æ—§æ¥ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ®ŠåŒ–ãƒ»SFINAEãƒ»ã‚¿ã‚°ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ»EBOãƒ»å†å¸°çš„ãªæ´¾ç”Ÿãªã©ã®æŠ€æ³•ã‚’ç”¨ã„ãŸè¤‡é›‘ãªä»£æ›¿æ‰‹æ®µã‚‚ã‚ã‚‹ãŒã€
ãã‚Œã‚‰ã‚’ä¸€ã¤ä¸€ã¤ã“ã“ã§ç´¹ä»‹ã™ã‚‹ã“ã¨ã¯é¿ã‘ã‚‹ã€‚

## é–¢é€£é …ç›®

- [`std::conditional`](/reference/type_traits/conditional.md)

## å‚ç…§

### é–¢é€£ã™ã‚‹ææ¡ˆæ–‡æ›¸

- [[PDF] N3322: A Preliminary Proposal for a Static if](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3322.pdf)
- [[PDF] N3329: Proposal: `static if` declaration](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3329.pdf)
- [[PDF] N3576: SG8 Concepts Teleconference Minutes â€“ 2013-03-12](https://isocpp.org/files/papers/N3576.pdf) Â§2.1
- [[PDF] N3613: â€œStatic If â€ Considered](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3613.pdf)
- [N4461: Static if resurrected](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4461.html)
- [P0128R0: constexpr_if](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/p0128r0.html)
- [P0128R1: constexpr if](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0128r1.html)
- [P0292R0: constexpr if: A slightly different syntax](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0292r0.html)
- [P0292R1: constexpr if: A slightly different syntax](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0292r1.html)
- [P0292R2: constexpr if: A slightly different syntax](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0292r2.html)
- [N4603 Editor's Report -- Committee Draft, Standard for Programming Language C++](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4603.html)

### 2æ®µéšåå‰æ¢ç´¢ã«ãŠã‘ã‚‹æ³¨æ„ç‚¹ã«ã¤ã„ã¦

- [if constexprã‚’ä½¿ã†ã¨ãã€ç‰¹å®šæ¡ä»¶æ™‚ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’å¤±æ•—ã•ã›ã‚‹ - Qiita](http://qiita.com/saka1_p/items/e8c4dfdbfa88449190c5)
- [æœ¬ã®è™«: constexpr ifã®è½ã¨ã—ç©´](https://cpplover.blogspot.jp/2017/05/constexpr-if.html)
- [`static_assert`ã®è©•ä¾¡ã‚’å®Ÿä½“åŒ–ã¾ã§é…å»¶ã•ã›ã‚‹ç°¡å˜ãªæ–¹æ³• - Qiita](https://qiita.com/alphya/items/b3463d1a2f53687f6025)
- [C++ - constexpr if ã¨ local struct ã®è©•ä¾¡ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã¤ã„ã¦ï½œteratail](https://teratail.com/questions/166409)

### ãã®ä»–

- [Static If I Had a Hammer - Andrei Alexandrescu](https://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Static-If-I-Had-a-Hammer)
- [C++1z if constexpræ–‡ - Faith and Brave - C++ã§éŠã¼ã†](https://faithandbrave.hateblo.jp/entry/2016/12/22/171238)
- [Clang Developers - Clang getting involved](http://clang-developers.42468.n3.nabble.com/Clang-getting-involved-td4038330.html)
- [`__if_exists` Statement | Microsoft Docs](https://docs.microsoft.com/ja-jp/cpp/cpp/if-exists-statement)
